#!/usr/bin/env bash

while :
do
  read -p "uninstall dotfiles? y/n " yn
  if [ $yn = "n" -o $yn = "N" ]; then
    exit
  elif [ $yn = "y" -o $yn = "Y" ]; then
    break
  else
    continue
  fi
done

UNINSTALLER_PATH=$HOME/dotfiles/bin/uninstaller

PKGS=( ricty vvm-rb )
for pkg in ${PKGS[@]}
do
  $UNINSTALLER_PATH/$pkg-uninstaller
done

DOT_FILES=(
  .zshrc .zsh/powerline-shell
  .zsh/auto-fu.zsh .ctags .gdbinit .gemrc
  .gitconfig .gitignore .inputrc
  .irbrc .pryrc .rspec .agignore
  .vimrc .vim/bundle .vrapperrc .rubocop.yml
  .tmux.conf .tmux-powerlinerc .splintrc
  .tmuxinator .tmux/tmux-powerline
  .tmux/tmux-mem-cpu-load .dir_colors
  .rdebugrc .vim/dict dotfiles
  .config/zathura/zathurarc )

for file in ${DOT_FILES[@]}
do
  rm -rf $HOME/$file
done

exec $SHELL
